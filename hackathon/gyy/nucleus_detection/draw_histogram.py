import matplotlib.pyplot as plt
import seaborn as sns
import numpy as np


def draw_distribution_histogram(nums, path, is_hist=True, is_kde=False, is_rug=False,
                                is_vertical=False, is_norm_hist=False):
    """

    bins: 设置直方图条形的数目
    is_hist: 是否绘制直方图
    is_kde: 是否绘制核密度图
    is_rug: 是否绘制生成观测数值的小细条
    is_vertical: 如果为True，观察值在y轴上
    is_norm_hist: 如果为True，直方图高度显示一个密度而不是一个计数，如果kde设置为True，则此参数一定为True
    """
    sns.set()  # 切换到sns的默认运行配置
    sns.distplot(nums, bins=6, hist=is_hist, kde=is_kde, rug=is_rug,
                 hist_kws={"color": "steelblue"}, kde_kws={"color": "purple"},
                 vertical=is_vertical, norm_hist=is_norm_hist)
    # 添加x轴和y轴标签
    plt.xlabel("Area")
    plt.ylabel("Density (%)")

    # 添加标题
    plt.title("Distribution")
    plt.tight_layout()  # 处理显示不完整的问题
    plt.savefig(path, dpi=300)
    plt.show()


# x = [19303, 17964, 10342, 8596, 10534, 9080, 8333, 7794, 13050, 16868, 8787, 16950, 7818, 15499, 8115, 7802,
# 7637, 8991, 9895, 8682, 11242, 6504, 6483, 17821, 11026, 10004, 8357, 10882, 8031, 8307, 11124, 7410,
# 7011, 7275, 10030, 6863, 15199, 8644, 8035, 10069, 9521, 7208, 11489, 10375, 9055, 7653, 7637, 14966,
# 13247, 10537, 7521, 11283, 7813, 16792, 8309, 10864, 14617, 7982, 10481, 11566, 14095, 8383, 7569, 9464,
# 9122, 7515, 10319, 7236, 10950, 9690, 6873, 7054, 6496, 13904, 16336, 11001, 10911, 13581, 9731, 7993,
# 7574, 7256, 11812, 8361, 7894, 7702, 15104, 13474, 7751, 5813, 8843, 10092, 10598, 7064, 7999, 7989,
# 10525, 11472, 12260, 8899, 9244, 7961, 7520, 7002, 10127, 16808, 9725, 9066, 8047, 12571, 14786, 11169,
# 8148, 5762, 7975, 11941, 7066, 11455, 10553, 10218, 11646, 7831, 6962, 9346, 10062, 8193, 6217, 13737,
# 6440, 7805, 9870, 9283, 8634, 11040, 8422, 9418, 10361, 9841, 10421, 11660, 6705, 8626, 10747, 17754,
# 9214, 13593, 9947, 9033, 16398, 15159, 6699, 7183, 6951, 15521, 10069, 9300, 20344, 14259, 8449, 11943,
# 7584, 7241, 19896
# ]

x = [153, 142, 205, 161, 170, 292, 337, 40, 314, 300, 289, 840, 216, 326, 164, 297,
477, 670, 200, 171, 201, 214, 552, 40, 27, 365, 473, 244, 192, 265, 255, 524,
199, 324, 214, 224, 331, 497, 315, 148, 495, 894, 208, 294, 737, 285, 124, 801,
174, 291, 111, 109, 259, 308, 151, 328, 288, 264, 41, 311, 590, 321, 232, 128,
116, 292, 310, 201, 399, 296, 283, 60, 225, 216, 190, 307, 246, 241, 167, 279,
112, 526, 313, 132, 195, 289, 269, 368, 240, 438, 314, 274, 156, 261, 305, 331,
148, 276, 254, 333, 316, 179, 302, 117, 247, 369, 441, 274, 289, 271, 445, 119,
316, 259, 110, 136, 140, 127, 237, 145, 404, 191, 125, 408, 229, 208, 295, 267,
243, 201, 252, 231, 149, 293, 173, 416, 219, 234, 241, 397, 101, 209, 386, 122,
371, 215, 202, 153, 247, 219, 256, 306, 321, 102, 249, 237, 146, 252, 325, 164,
142, 83, 190
]

# x = [i/1000 for i in x]
path = "distribution.jpg"
draw_distribution_histogram(x, path, True, True)
